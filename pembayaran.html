<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pembayaran - PhotoHunt</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- CSS RESET & VARIABLES --- */
        :root {
            --primary-black: #111111;
            --border-color: #E5E7EB; 
            --bg-gray: #F9FAFB;
            --alert-bg: #FEF2F2;
            --alert-text: #EF4444;
            --accent-green: #22C55E;
            --instruction-bg: #E0E7FF;
            --transition-smooth: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0; padding: 0; background-color: #f5f5f5;
            font-family: "Inter", sans-serif;
            display: flex; flex-direction: column; align-items: center;
            color: var(--primary-black);
        }

        /* HEADER */
        header {
            background: linear-gradient(180deg, #e0e0e0 0%, #f5f5f5 100%);
            padding: 0 40px; 
            height: 100px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            z-index: 50;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .header-content {
            display: flex; justify-content: space-between; align-items: center;
            width: 100%; max-width: 100%; /* Full width */
        }

        .logo {
            font-weight: 700; font-size: 28px; display: flex; align-items: center; color: #000; letter-spacing: -0.02em;
        }

        .cta-btn {
            background: #000; color: #fff; padding: 12px 24px;
            border-radius: 8px; border: none; cursor: pointer;
            font-weight: 500; font-size: 14px; transition: var(--transition-smooth);
        }
        .cta-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }

        /* MAIN CONTAINER */
        .main-container {
            width: 100%;
            max-width: 1200px;
            margin-top: 130px; 
            padding: 0 20px 50px 20px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* --- BACK BUTTON (HOVER UPDATE) --- */
        .kembali {
            font-size: 18px; font-weight: 500; cursor: pointer; 
            display: flex; align-items: center; gap: 12px;
            color: #374151; 
            transition: var(--transition-smooth);
            align-self: flex-start;
        }
        
        .back-icon-circle {
            width: 36px; height: 36px; 
            border: 1.5px solid #374151; 
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            transition: var(--transition-smooth);
            color: #374151;
        }

        /* Hover Effect: Aesthetic Fill */
        .kembali:hover {
            color: #000;
            transform: translateX(-4px); 
        }
        
        .kembali:hover .back-icon-circle {
            background-color: #111; 
            border-color: #111;
            color: #fff; 
            transform: scale(1.05); 
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        /* TIMER ALERT */
        .timer-alert {
            width: 100%;
            background-color: var(--alert-bg);
            border: 1px solid #FECACA;
            border-radius: 12px;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .timer-left { display: flex; align-items: center; gap: 16px; }
        .timer-icon-svg { color: var(--alert-text); width: 28px; height: 28px; }
        .timer-text h3 { margin: 0; color: var(--alert-text); font-size: 16px; font-weight: 600; }
        .timer-text p { margin: 4px 0 0 0; color: var(--alert-text); font-size: 13px; opacity: 0.8; }
        .timer-right { text-align: right; }
        .countdown { color: var(--alert-text); font-size: 28px; font-weight: 700; letter-spacing: -0.02em; }
        .deadline-small { color: #991B1B; font-size: 11px; opacity: 0.6; margin-top: 2px; }

        /* GRID CONTENT */
        .content-grid {
            display: grid;
            grid-template-columns: 1.4fr 1fr;
            gap: 24px;
        }

        /* CARDS */
        .card {
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02);
        }
        .section-title { font-size: 20px; font-weight: 600; margin: 0 0 24px 0; letter-spacing: -0.02em; }

        /* --- PAYMENT METHOD ITEMS (GRID HOVER UPDATE) --- */
        .payment-methods-wrapper { display: flex; flex-direction: column; gap: 16px; }

        .method-item {
            border: 1px solid #D1D5DB;
            border-radius: 12px;
            overflow: hidden;
            transition: var(--transition-smooth);
            background: #fff;
            position: relative; /* Penting untuk z-index hover */
        }

        /* üî• THIS IS THE "GRID HOVER" EFFECT YOU ASKED FOR üî• */
        .method-item:hover {
            border-color: #000;
            /* Efek ring halus di sekeliling */
            box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05), 0 10px 25px -5px rgba(0, 0, 0, 0.1); 
            transform: translateY(-2px);
            z-index: 10;
        }

        .method-header {
            padding: 18px 20px;
            display: flex; align-items: center;
            cursor: pointer;
        }
        
        .method-icon { width: 24px; height: 24px; margin-right: 16px; color: #374151; }
        .method-name { font-size: 16px; font-weight: 500; flex-grow: 1; color: #111; }
        .arrow-icon { width: 20px; height: 20px; color: #9CA3AF; transition: transform 0.3s ease; }
        
        /* Active State */
        .method-item.active { border-color: #000; box-shadow: 0 0 0 1px #000; }
        .method-item.active .arrow-icon { transform: rotate(180deg); color: #000; }
        
        .method-content {
            display: none; padding: 24px; border-top: 1px solid #E5E7EB; animation: slideDown 0.3s ease;
        }
        .method-item.active .method-content { display: block; }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- BANK GRID (HOVER UPDATE) --- */
        .bank-options { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
        
        .bank-choice {
            border: 1px solid #D1D5DB; border-radius: 10px; padding: 16px;
            cursor: pointer; transition: var(--transition-smooth);
            background: #fff;
            position: relative;
        }

        /* üî• BANK CHOICE GRID HOVER EFFECT üî• */
        .bank-choice:hover {
            border-color: #000;
            /* Efek ring yang sama */
            box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05), 0 4px 12px rgba(0,0,0,0.08);
            transform: translateY(-2px);
            z-index: 5;
        }

        .bank-choice.selected { border-color: #000; background: #F9FAFB; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .bank-name { font-weight: 600; font-size: 16px; margin-bottom: 4px; }
        .bank-number { font-size: 14px; color: #6B7280; }

        /* INSTRUCTION & QRIS */
        .instruction-box {
            background-color: var(--instruction-bg);
            border-radius: 12px; padding: 20px; color: #312E81;
        }
        .instruction-box h4 { margin: 0 0 12px 0; font-size: 14px; font-weight: 700; }
        .instruction-box ol { margin: 0; padding-left: 20px; }
        .instruction-box li { font-size: 13px; line-height: 1.6; margin-bottom: 4px; color: #4338CA; }

        .qris-wrapper { display: flex; flex-direction: column; align-items: center; gap: 16px; padding: 10px 0; }
        .qris-img { width: 180px; height: 180px; border: 1px solid #E5E7EB; padding: 10px; border-radius: 12px; }

        /* SUMMARY */
        .summary-details { display: flex; flex-direction: column; gap: 20px; margin-bottom: 24px; }
        .detail-group label { display: block; font-size: 14px; color: #6B7280; margin-bottom: 6px; }
        .detail-group p { margin: 0; font-size: 16px; font-weight: 600; color: #111; }
        .divider { height: 1px; background: #E5E7EB; width: 100%; margin: 20px 0; }
        .price-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .price-label { font-size: 14px; color: #6B7280; font-weight: 500; }
        .price-val { font-size: 14px; font-weight: 600; color: var(--accent-green); }
        .total-row { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
        .total-label { font-size: 18px; font-weight: 700; color: #111; }
        .total-val { font-size: 20px; font-weight: 800; color: var(--accent-green); }

        .btn-confirm {
            width: 100%; background: #000; color: #fff; padding: 16px;
            border-radius: 50px; font-size: 16px; font-weight: 600; text-align: center;
            cursor: pointer; transition: var(--transition-smooth); margin-top: 10px;
        }
        .btn-confirm:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .btn-confirm:active { transform: scale(0.98); }
        .disclaimer { font-size: 11px; color: #9CA3AF; text-align: center; margin-top: 12px; line-height: 1.4; }

    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <div class="logo">
                PhotoHunt 
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 8px;"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
            </div>
            <button class="cta-btn">Call to action</button>
        </div>
    </header>

    <div class="main-container">
        
        <div class="kembali" onclick="history.back()">
             <div class="back-icon-circle">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
            </div>
            Kembali
        </div>

        <div class="timer-alert">
            <div class="timer-left">
                <svg class="timer-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="13" r="8"></circle><path d="M12 9v4l2 2"></path><path d="M5 3 2 6"></path><path d="m22 6-3-3"></path><path d="M12 2v3"></path></svg>
                <div class="timer-text">
                    <h3>Selesaikan pembayaran dalam:</h3>
                    <p>Reservasi akan dibatalkan otomatis jika waktu habis</p>
                </div>
            </div>
            <div class="timer-right">
                <div class="countdown" id="timer-display">00:15:00</div>
                <div class="deadline-small" id="deadline-info">Tuntaskan sebelum --:--</div>
            </div>
        </div>

        <div class="content-grid">
            
            <div class="card">
                <h2 class="section-title">Metode Pembayaran</h2>
                <div class="payment-methods-wrapper">
                    
                    <div class="method-item" id="card-va">
                        <div class="method-header" onclick="togglePayment('va')">
                            <svg class="method-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="5" width="20" height="14" rx="2"></rect><line x1="2" y1="10" x2="22" y2="10"></line></svg>
                            <span class="method-name">Transfer Bank (Virtual Account)</span>
                            <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        </div>
                        <div class="method-content">
                            <div class="bank-options">
                                <div class="bank-choice" onclick="selectBank(this)">
                                    <div class="bank-name">BCA</div>
                                    <div class="bank-number">12345678</div>
                                </div>
                                <div class="bank-choice" onclick="selectBank(this)">
                                    <div class="bank-name">Mandiri</div>
                                    <div class="bank-number">12345678</div>
                                </div>
                            </div>
                            <div class="instruction-box">
                                <h4>Instruksi Pembayaran:</h4>
                                <h4>Transfer Bank (Buka App Secara Manual)</h4>
                                <ol>
                                    <li>Lakukan pembayaran sesuai total yang tertera</li>
                                    <li>Simpan bukti pembayaran</li>
                                    <li>Klik tombol ‚ÄúSaya Sudah Bayar‚Äù</li>
                                    <li>Tunggu konfirmasi dari mitra studio</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="method-item" id="card-qris">
                        <div class="method-header" onclick="togglePayment('qris')">
                            <svg class="method-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
                            <span class="method-name">E-Wallet / QRIS</span>
                            <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        </div>
                        <div class="method-content">
                            <div class="qris-wrapper">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=PhotoHuntPayment" alt="Scan QRIS" class="qris-img">
                                <span style="font-size: 14px; font-weight: 500;">Scan QR code di atas</span>
                            </div>
                            <div class="instruction-box">
                                <h4>Cara Bayar Pakai QRIS:</h4>
                                <ol>
                                    <li>Buka aplikasi E-Wallet (Gopay, OVO, Dana, ShopeePay).</li>
                                    <li>Pilih menu Bayar / Scan.</li>
                                    <li>Periksa nama merchant "PhotoHunt Studio".</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="card">
                <h2 class="section-title">Ringkasan Pesanan</h2>
                <div class="summary-details">
                    <div class="detail-group">
                        <label>Studio:</label>
                        <p id="studio-name">Loading...</p>
                    </div>
                    <div class="detail-group">
                        <label>Paket:</label>
                        <p id="package-name">-</p>
                    </div>
                    <div class="detail-group">
                        <label>Tanggal & Waktu:</label>
                        <p id="booking-datetime">-</p>
                    </div>
                    <div class="detail-group">
                        <label>Kapasitas:</label>
                        <p id="pax-capacity">- orang</p>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="price-row">
                    <span class="price-label">Harga Paket</span>
                    <span class="price-val" id="item-price">Rp. -</span>
                </div>
                <div class="price-row">
                    <span class="price-label">Biaya Tambahan</span>
                    <span class="price-val">Rp. -</span>
                </div>
                
                <div class="divider"></div>

                <div class="total-row">
                    <span class="total-label">Total:</span>
                    <span class="total-val" id="total-price-display">Rp. -</span>
                </div>

                <div class="btn-confirm" onclick="confirmPayment()">
                    Saya Sudah Bayar
                </div>
                <p class="disclaimer">Dengan melanjutkan, Anda menyetujui syarat dan ketentuan yang berlaku.</p>
            </div>

        </div>
    </div>

    <script>
        // --- LOGIC: AMBIL DATA ---
        document.addEventListener('DOMContentLoaded', () => {
            const storedData = localStorage.getItem('bookingData');
            
            if (storedData) {
                const data = JSON.parse(storedData);
                document.getElementById('studio-name').textContent = data.studio;
                document.getElementById('package-name').textContent = data.paket;
                document.getElementById('pax-capacity').textContent = data.jumlahOrang + " orang";
                document.getElementById('booking-datetime').innerHTML = `${data.tanggal}<br/>${data.jam}`;

                const formattedPrice = new Intl.NumberFormat("id-ID", {
                    style: "currency",
                    currency: "IDR",
                    minimumFractionDigits: 0
                }).format(data.totalBayar).replace("Rp", "Rp. ");
                
                document.getElementById('item-price').textContent = formattedPrice;
                document.getElementById('total-price-display').textContent = formattedPrice;
            } else {
                document.getElementById('studio-name').textContent = "Selfie Time, Mal Lippo Cikarang";
                document.getElementById('package-name').textContent = "Paket Group";
                document.getElementById('pax-capacity').textContent = "1 orang";
                document.getElementById('booking-datetime').innerHTML = `11/12/2025<br/>09:00`;
                document.getElementById('item-price').textContent = "Rp. 75.000";
                document.getElementById('total-price-display').textContent = "Rp. 75.000";
            }

            startTimer(15 * 60);
            updateDeadlineInfo();
        });

        // --- ACCORDION LOGIC ---
        function togglePayment(type) {
            const cardVA = document.getElementById('card-va');
            const cardQRIS = document.getElementById('card-qris');

            if (type === 'va') {
                if (cardVA.classList.contains('active')) {
                    cardVA.classList.remove('active');
                } else {
                    cardVA.classList.add('active');
                    cardQRIS.classList.remove('active');
                }
            } else if (type === 'qris') {
                if (cardQRIS.classList.contains('active')) {
                    cardQRIS.classList.remove('active');
                } else {
                    cardQRIS.classList.add('active');
                    cardVA.classList.remove('active');
                }
            }
        }

        function selectBank(element) {
            document.querySelectorAll('.bank-choice').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
        }

        // --- TIMER LOGIC ---
        function startTimer(duration) {
            let timer = duration, minutes, seconds;
            const display = document.getElementById('timer-display');
            const interval = setInterval(function () {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                display.textContent = "00:" + minutes + ":" + seconds;
                if (--timer < 0) {
                    clearInterval(interval);
                    display.textContent = "WAKTU HABIS";
                    alert("Waktu pembayaran habis!");
                }
            }, 1000);
        }

        function updateDeadlineInfo() {
            const now = new Date();
            now.setMinutes(now.getMinutes() + 15);
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('deadline-info').textContent = `Tuntaskan pembayaran anda sebelum ${hours}:${minutes}`;
        }

        function confirmPayment() {
            const confirmAction = confirm("Apakah Anda yakin sudah melakukan transfer?");
            if (confirmAction) {
                alert("Terima kasih! Bukti pembayaran akan diverifikasi.");
            }
        }
    </script>
</body>
</html>